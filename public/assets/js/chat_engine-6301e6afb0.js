class ChatEngine{constructor(e,s){this.userName=e,this.emailId=s,this.socket=io.connect("http://localhost:5000"),this.emailId&&this.connectionHandler()}connectionHandler(){const e=this;e.socket.on("connect",(()=>{console.log("Connection established on client side...")})),e.socket.emit("join_room",{user_email:e.emailId,chatroom:"codeial"}),e.socket.on("user_joined",(function(e){console.log("User joined ",e)})),$("#send-message").click((function(){console.log("send message clicked");const s=$("#chat-message-input").val();console.log(s),s&&e.socket.emit("message_send",{message:s,email:e.emailId,chatroom:"codeial",userName:e.userName})})),e.socket.on("message_received",(function(s){let n=!1;s.email==e.emailId&&(n=!0);let o=`\n            <li class=${n?"self-message":"other-message"}>\n             <span>\n               ${s.message}\n             </span>\n             <span class="user-name">\n              ${s.userName}\n             </span>\n            </li>`;$("#chat-messages-list").append(o),$("#chat-messages-list").scrollTop($("#chat-messages-list").prop("scrollHeight"))}))}}