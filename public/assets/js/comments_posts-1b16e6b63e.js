function createComment(e){console.log("create comment"),$(e).submit((function(e){console.log("create comment clicked"),e.preventDefault(),$.ajax({type:"post",url:"/comment/create",data:$(this).serialize(),success:function(e){let t=getComment(e.data.comment);$(`#post-comments-${e.data.comment.post}`).prepend(t),deleteComment(`#comment-${e.data.comment._id} .delete-comment-button`),createCommentLike(`#comment-${e.data.comment._id} + .comment-like .like-symbol`),new Noty({theme:"relax",text:"Comment Created",type:"success",layout:"topRight",timeout:1500}).show()}})}))}console.log("Comment Post is here");let getComment=e=>`<p id="comment-${e._id}">\n  <small>\n    <button>\n      <a\n        class="delete-comment-button"\n        href="/comment/destroy/${e._id}"\n      >\n        Delete\n      </a>\n    </button>\n  </small>\n  ${e.content}\n  <br />\n  <small> ${e.user.name} </small>\n</p>\n<div class="comment-like">\n    <div data-id="${e._id}" class="like-symbol">\n      🤍\n    </div>\n    <div data-id="${e._id}" class="like-number">\n    ${e.likes.length>0?e.likes.length:""}\n    </div >\n</div >\n`;function deleteComment(e){console.log("delete comment"),$(e).click((function(e){console.log("I am clicked"),e.preventDefault(),$.ajax({type:"get",url:$(this).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove(),new Noty({theme:"relax",text:"Comment Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e)}})}))}function createCommentLike(e){console.log("I am called"),$(e).click((function(e){console.log("comment like clicked");const t=this.getAttribute("data-id");let n=this;$.ajax({type:"post",url:`/likes/toggle/?id=${t}&&type=Comment`,success:function(e){console.log(e),e.deleted?n.innerHTML="🤍":n.innerHTML="❤️";const o=e.likes>0?e.likes:"";$(`.like-number[data-id=${t}]`).html(o)},error:function(e){console.log(e)}})}))}createCommentLike(".comment-like .like-symbol"),createComment(".new-comment-form"),deleteComment(".delete-comment-button");export{deleteComment,createComment,getComment,createCommentLike};